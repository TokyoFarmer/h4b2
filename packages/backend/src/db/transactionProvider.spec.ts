// import { App, ServiceContextEvents } from '@h4bff/core';
// import { TransactionProvider } from './transactionProvider';
// import { Database } from './database';

describe('TransactionProvider', () => {
  it(`should register 'dispose' callback on context disposal`, () => {
    // prepare app and mock ServiceContextEvents
    // let app = new App();
    // process.env.POSTGRES_URL = 'postgres://user:password@localhost:5432/database';
    // let tcOnDisposeCallback;
    // class MockDatabase extends Database {
    //   onContextDisposed = jest.fn(arg => (tcOnDisposeCallback = arg));
    // }
    // app.overrideSingleton(Database, MockDatabase);
    // let sCtx = app.createServiceContext();
    // new TransactionProvider(sCtx);
  });
});
